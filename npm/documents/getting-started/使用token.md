# ä½¿ç”¨token

æœ¬æ–‡ä¸»è¦ä»‹ç»å¦‚ä½•é€šè¿‡ä½¿ç”¨**ä»¤ç‰Œ(token)**æ¥å¢åŠ å®‰å…¨æ€§ã€‚æ¯æ¬¡ç™»å½•npmï¼Œéƒ½ä¼šç”Ÿæˆä¸€ä¸ªå®‰å…¨ä»¤ç‰Œã€‚ä»¤ç‰Œç”¨æ¥è®¤è¯ä½ çš„npmè´¦æˆ·ï¼Œä¹Ÿæä¾›äº†éœ€è¦å‘å¸ƒå’Œä½¿ç”¨æ¨¡å—çš„æƒé™ã€‚ä»¤ç‰Œé€šå¸¸å’ŒæŒç»­é›†æˆæµ‹è¯•ç¯å¢ƒä¸€èµ·ä½¿ç”¨ã€‚ä¾‹å¦‚ï¼Œ[Travis-CI](https://travis-ci.org/)æä¾›äº†ä¸€ä¸ªå¯ä»¥èµ‹å€¼ç»™ä»¤ç‰Œçš„ç¯å¢ƒå˜é‡ï¼Œè¿™æ ·Travis-CIå°±èƒ½ä»¥ä½ çš„npmç”¨æˆ·èº«ä»½è¿è¡Œnpmï¼ŒåŒ…æ‹¬å®‰è£…ä½ æœ‰æƒé™çš„ç§åŒ…ã€‚

npmä¸­è‡ªå¸¦çš„Tokenå‘½ä»¤è¡Œå·¥å…·å…·æœ‰å¦‚ä¸‹åŠŸèƒ½ï¼š

* æŸ¥çœ‹tokenï¼Œæ–¹ä¾¿è¿½è¸ªå’Œç®¡ç†
* åˆ›å»ºæ–°çš„token(åªè¯»ï¼æ‰€æœ‰æƒé™)
* åˆ é™¤token
* æ ¹æ®IPåœ°å€èŒƒå›´é™åˆ¶æƒé™

## æŸ¥çœ‹å·²ç™»å½•è´¦æˆ·çš„token

å¯ä»¥é€šè¿‡ä¸‹é¢çš„å‘½ä»¤æŸ¥çœ‹å½“å‰å·²ç™»å½•è´¦æˆ·çš„tokenï¼š

```shell
$ npm token list
```

![npm-token-list-shorter-list](../../../images/npm/getting-started/npm-token-list-shorter-list.png)

ä¸‹é¢çš„åˆ—è¡¨ç”¨æ¥è§£é‡Štokenè¡¨ä¸­æ¯ä¸€é¡¹çš„æ„æ€ï¼š

| å­—æ®µ | ä½œç”¨ |
|---|---|
| id | æŒ‡å‘å”¯ä¸€çš„token |
| token | è¿™é‡Œæ˜¯å®Œæ•´tokençš„ç¬¬ä¸€éƒ¨åˆ† |
| created | åˆ›å»ºæ—¶é—´ |
| readonly | å¦‚æœæ˜¯`no`ï¼Œåˆ™å…·æœ‰æ‰€æœ‰æƒé™ |
| CIDR whitelist | æŒ‡å®šèŒƒå›´IPåœ°å€ä½¿ç”¨çš„é™åˆ¶token |

ä¸€ä¸ªtokenå¯ä»¥åŒæ—¶è®¾ç½®`CIDR whitelist`å’Œ`readonly`ã€‚

å¦‚æœåœ¨ä¸ªäººè®¾ç½®ä¸­å¼€å¯äº†2FAéªŒè¯ï¼Œå°±å¤šäº†ä¸€å±‚é˜²æŠ¤æœºåˆ¶ã€‚æ²¡æœ‰äººå¯ä»¥åœ¨ä¸æä¾›ç¬¬äºŒå±‚éªŒè¯(OTP)çš„æƒ…å†µä¸‹ä¿®æ”¹ä½ è´¦æˆ·çš„tokenã€‚

**æ³¨æ„ï¼šè¡¨æ ¼ä¸­æ˜¾ç¤ºçš„tokenåªæ˜¯æˆªå–çš„tokençš„ä¸€éƒ¨åˆ†ã€‚å¦‚æœæƒ³çœ‹å®Œæ•´çš„tokenè¯·æˆ³ğŸ‘‰[npmrc](https://github.com/NinjiaHub/Tools-Tricks/blob/master/npm/documents/config-npm/npmrc.md)**

## åˆ›å»ºæ–°token

```shell
$ npm token create [--readonly] [--cidr=list]
```

åˆ›å»ºtokenä¹‹å‰ï¼Œæ€è€ƒä½¿ç”¨å“ªç§tokenåˆé€‚ï¼š

* read-only(å®‰è£…ï¼å‘è¡Œæƒé™)
* full permission(å‘å¸ƒæƒé™)
* CIDR whitelist(é€šè¿‡ipåœ°å€é™åˆ¶æƒé™)

å¦‚æœåœ¨æ–°å»ºtokenæ—¶ä¸æŒ‡å®šï¼Œåˆ™è¯¥tokené»˜è®¤å…·æœ‰æ‰€æœ‰æƒé™ã€‚

* read-onlyï¼šå…è®¸å®‰è£…
* full-permissionï¼šå…è®¸å®‰è£…ã€å‘è¡Œã€å‘å¸ƒï¼Œä»¥åŠä½ è´¦æˆ·æ‹¥æœ‰çš„æ‰€æœ‰å…¶ä»–æƒé™
* CIDR whitelist tokenåªå…è®¸ç‰¹å®šçš„ipåœ°å€èŒƒå›´å†…çš„ç”¨æˆ·ä½¿ç”¨ã€‚å¯ä»¥åœ¨ä¸€ä¸ªå…¬å¸æˆ–è€…å›¢é˜Ÿä¸­ä½¿ç”¨è¿™ç§é™åˆ¶tokenã€‚ç›®å‰æ”¯æŒIPv4ã€‚

å¦‚æœä¸€ä¸ªtokenè¢«è®¾ç½®ä¸º`read-only`æƒé™ï¼Œåˆ™è¯¥tokenæ²¡æœ‰æƒé™å¯¹åŒ…åšä»»ä½•ä¿®æ”¹ã€‚å¦‚æœä¸€ä¸ªtokenåœ¨åˆ›å»ºæ—¶æ²¡æœ‰æ˜ç¡®åœ°è®¾ç½®ä¸º`read-only`æƒé™ï¼Œåˆ™é»˜è®¤æ‹¥æœ‰å…¨éƒ¨æƒé™ï¼ŒåŒ…æ‹¬å‘å¸ƒå’Œä¿®æ”¹npmåŒ…ã€‚

### åˆ›å»ºæ‹¥æœ‰å…¨éƒ¨æƒé™çš„æ–°token

è¦åˆ›å»ºä¸€ä¸ªæ‹¥æœ‰å…¨éƒ¨æƒé™çš„æ–°tokenï¼Œä½¿ç”¨ï¼š

```shell
$ npm token create
```

å¦‚æœå¼€å¯äº†2FAï¼Œnpmä¼šæç¤ºè¾“å…¥npmå¯†ç ï¼Œä»¥åŠOTPï¼Œä¹‹åï¼Œnpmä¼šåˆ—å‡ºå¦‚ä¸‹è¡¨æ ¼ï¼š

![npm-token-create-long-version](../../../images/npm/getting-started/npm-token-create-long-version.png)

**æ³¨æ„ï¼šåªæœ‰åœ¨åˆ›å»ºæ—¶æ‰èƒ½çœ‹åˆ°å®Œæ•´çš„tokenï¼Œæ‰€ä»¥è¯·å¯¹è¿™ä¸ªtokençš„å€¼æˆªå›¾ä¿å­˜ã€‚**

ç”±äºæ²¡æœ‰æ˜ç¡®æŒ‡å®š`--read-only`ï¼Œæ‰€ä»¥readonlyéƒ¨åˆ†çš„å€¼ä¸ºfalseï¼Œå³è¯¥tokené»˜è®¤æ‹¥æœ‰å½“å‰ç™»é™†npmè´¦æˆ·çš„æ‰€æœ‰æƒé™ã€‚

## å‚è€ƒ

* [Working with tokens](https://docs.npmjs.com/getting-started/working_with_tokens)

## å£°æ˜

æœ¬æ–‡éƒ¨åˆ†å†…å®¹æ¥è‡ªç½‘ç»œï¼Œå¦‚æœ‰ç‰ˆæƒé—®é¢˜è¯·è”ç³»ä½œè€…ã€‚

ä¾µåˆ ã€‚

å†…å®¹å¦‚æœ‰ä¸æ°å½“æˆ–é”™è¯¯ï¼Œæ•¬è¯·æŒ‡æ­£ã€‚

ä½œè€…é‚®ç®±ï¼šweb.taox@gmail.comã€‚

## Author Info

* [GitHub](https://github.com/Tao-Quixote)
* Email: web.taox@gmail.com
